---
title: "All Canada Mentions"
author: "Lawrence Plastina"
date: "`r Sys.Date()`"
output:
  html_document: default
  pdf_document: default
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(echo = FALSE)
```

```{r, include = FALSE}
## How many US documents mention Canada?

# Define target words
target_words <- c("canada", "canadian", "canadians")

matches <- sapply(trump_corpus, function(doc) any(target_words %in% doc))

matches_full <- sapply(full_corpus, function(doc) any(target_words %in% doc))

# Number of matching documents
match_count <- sum(matches)
match_count_full <- sum(matches_full)

# Total number of documents
total_docs <- ndoc(trump_corpus)
total_docs_full <- ndoc(full_corpus)

# Proportion
match_proportion <- match_count / total_docs
match_proportion_full <- match_count_full / total_docs_full

# Output
cat("Matching documents:", match_count, "\n")
cat("Total documents:", total_docs, "\n")
cat("Proportion:", round(match_proportion * 100, 2), "%\n")

us_transcripts_canada <- us_transcripts %>%
  filter(matches_full)

write.csv(us_transcripts_canada["full_transcript"], "C:/Users/12015/Desktop/popova_beland/data_clean/canada_mentions.csv", row.names = FALSE)

# Combine date and text per observation
combined_lines <- paste0(
  "Date: ", us_transcripts_canada$date_parsed, "\n\n",
  us_transcripts_canada$full_transcript, "\n\n",
  strrep("-", 40), "\n"
)

writeLines(combined_lines, "C:/Users/12015/Desktop/popova_beland/data_clean/canada_mentions.txt")

```



### Notes

* These are all the documents where Canada is mentioned by anybody, not simply all the documents where Trump mentions Canada - so there are 161 documents instead of 127. 

* Any document that doesn't clearly denote speakers is one of Donald Trump's Truth Social posts. 

* Many of the Truth Social posts are very short, since he frequently reposts other accounts or posts images/videos without much text attached.

* All the documents are in date order (oldest to newest) and the dates are listed before each document. 

### Full List

```{r echo=FALSE, results='asis'}
# Read the text file
txt_lines <- readLines("C:/Users/12015/Desktop/popova_beland/data_clean/canada_mentions.txt")

# Display with line breaks
cat(txt_lines, sep = "\n")
