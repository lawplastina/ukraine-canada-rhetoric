"0","# Load quanteda if not already loaded"
"0","library(quanteda)"
"0",""
"0","# Create corpus"
"0","putin_corpus_int <- corpus(ru_transcripts_putin, text_field = ""transcript_filtered"") "
"2","Warning: NA is replaced by empty string"
"0","# Tokenize and remove Russian stopwords"
"0","putin_tokens <- tokens(putin_corpus_int, remove_punct = TRUE) |>"
"0","  tokens_select(pattern = stopwords(""ru"", source = ""snowball""), "
"0","               selection = ""remove"")"
"0",""
"0","# Define target forms of ""Украина"""
"0","target_words_ua <- c(""украина"", ""украины"", ""украине"", ""украину"", ""украиной"", ""украине"","
"0","                       # Masculine Singular"
"0","  ""украинский"", ""украинского"", ""украинскому"", ""украинского"", ""украинским"", ""украинском"","
"0",""
"0","  # Feminine Singular"
"0","  ""украинская"", ""украинской"", ""украинскую"", ""украинской"", ""украинской"","
"0",""
"0","  # Neuter Singular"
"0","  ""украинское"", ""украинского"", ""украинскому"", ""украинское"", ""украинским"", ""украинском"","
"0",""
"0","  # Plural (Masculine Animate Accusative = Genitive)"
"0","  ""украинские"", ""украинских"", ""украинским"", ""украинские"", ""украинскими"", ""украинских"")"
"0",""
"0","# Convert tokens to list of character vectors"
"0","putin_token_list <- as.list(putin_tokens)"
"0",""
"0","# Check for presence of any target word in each document"
"0","matches_ua <- sapply(putin_token_list, function(doc) any(target_words_ua %in% doc))"
"0",""
"0","# Count and calculate proportion"
"0","match_count_ua <- sum(matches_ua)"
"0","total_docs_ua <- ndoc(putin_corpus_int)"
"0","match_proportion_ua <- match_count_ua / total_docs_ua"
"0",""
"0","# Output results"
"0","cat(""Matching documents:"", match_count_ua, ""\n"")"
"1","Matching documents:"
"1"," "
"1","30"
"1"," "
"1","
"
"0","cat(""Total documents:"", total_docs_ua, ""\n"")"
"1","Total documents:"
"1"," "
"1","297"
"1"," "
"1","
"
"0","cat(""Proportion:"", round(match_proportion_ua * 100, 2), ""%\n"")"
"1","Proportion:"
"1"," "
"1","10.1"
"1"," "
"1","%
"
