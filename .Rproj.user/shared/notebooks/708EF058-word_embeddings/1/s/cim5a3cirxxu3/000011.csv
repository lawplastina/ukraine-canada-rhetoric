"0","# Define target words"
"0","target_words <- c(""canada"", ""canadian"", ""canadians"")"
"0",""
"0","matches <- sapply(trump_corpus, function(doc) any(target_words %in% doc))"
"0",""
"0","matches_full <- sapply(full_corpus, function(doc) any(target_words %in% doc))"
"0",""
"0","# Number of matching documents"
"0","match_count <- sum(matches)"
"0","match_count_full <- sum(matches_full)"
"0",""
"0","# Total number of documents"
"0","total_docs <- ndoc(trump_corpus)"
"0",""
"0","# Proportion"
"0","match_proportion <- match_count / total_docs"
"0","match_proportion_full <- match_count_full / total_docs"
"0",""
"0","# Output"
"0","cat(""Matching documents:"", match_count_full, ""\n"")"
"1","Matching documents:"
"1"," "
"1","161"
"1"," "
"1","
"
"0","cat(""Total documents:"", total_docs, ""\n"")"
"1","Total documents:"
"1"," "
"1","2177"
"1"," "
"1","
"
"0","cat(""Proportion:"", round(match_proportion_full * 100, 2), ""%\n"")"
"1","Proportion:"
"1"," "
"1","7.4"
"1"," "
"1","%
"
"0","us_transcripts_canada <- us_transcripts %>%"
"0","  filter(matches_full)"
"0",""
"0","write.csv(us_transcripts_canada[""full_transcript""], ""C:/Users/12015/Desktop/popova_beland/data_clean/canada_mentions.csv"", row.names = FALSE)"
"0",""
"0","# Combine date and text per observation"
"0","combined_lines <- paste0("
"0","  ""Date: "", us_transcripts_canada$date_parsed, ""\n\n"","
"0","  us_transcripts_canada$full_transcript, ""\n\n"","
"0","  strrep(""-"", 40), ""\n"""
"0",")"
"0",""
"0","writeLines(combined_lines, ""C:/Users/12015/Desktop/popova_beland/data_clean/canada_mentions.txt"")"
"0",""
