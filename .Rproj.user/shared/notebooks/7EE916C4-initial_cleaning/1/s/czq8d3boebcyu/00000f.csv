"0","setwd(""C:/Users/12015/Desktop/popova_beland"")"
"2","Warning: The working directory was changed to C:/Users/12015/Desktop/popova_beland inside a notebook chunk. The working directory will be reset when the chunk is finished running. Use the knitr root.dir option in the setup chunk to change the working directory for notebook chunks."
"0","# Read NDJSON file into R"
"0","us_transcripts_unfiltered <- ndjson::stream_in(""C:/Users/12015/Desktop/popova_beland/output_transcripts/all_transcripts_with_officials.ndjson"")"
"2","Registered S3 method overwritten by 'data.table':
  method           from
  print.data.table     
"
"0","us_transcripts_mid <- as.data.frame(us_transcripts_unfiltered) %>%"
"0","  mutate("
"0","    type = str_extract(title, ""^[^:]+""),"
"0","    title = str_trim(str_remove(title, ""^[^:]+:\\s*"")),"
"0","    transcript = if_else(str_starts(title, ""No Transcript -""), ""No"", ""Yes""),"
"0","    title = str_remove(title, ""^No Transcript -\\s*""),  # removes the prefix if present"
"0","    date_parsed = ymd(date), # converting to Date object"
"0","    trump_only = na_if(trump_only, """"), # entering NAs for all blank entries"
"0","    homan_only = na_if(homan_only, """"),"
"0","    leavitt_only = na_if(leavitt_only, """"),"
"0","    rubio_only = na_if(rubio_only, """"),"
"0","    miller_only = na_if(miller_only, """")"
"0","  ) %>%"
"0","  drop_na(date_parsed) %>% # removing the one South African observation with no date"
"0","  filter(date_parsed <= as.Date(""2025-06-01"")) %>% # filtering everything after May 31st"
"0","  select(-date) # getting rid of the character variable bc it's not useful"
"2","Error: no more error handlers available (recursive errors?); invoking 'abort' restart
"
"2","Warning in .Internal(getOption(x)) %||% default :"
"2","
 "
"2"," type 29 is unimplemented in 'type2char'
"
"2","Error in .Internal(getOption(x)) %||% default : 
  INTEGER() can only be applied to a 'integer', not a 'unknown type #29'
"
"2","Warning: [38;5;254mThere was 1 warning in `mutate()`.[39m
[38;5;254m[36mâ„¹[38;5;254m In argument: `date_parsed = ymd(date)`.[39m
Caused by warning:
[33m![39m  1 failed to parse."
"0","# Now pulling in Truth Social posts"
"0",""
"0","# Useful function: "
"0","html_to_text <- function(x) {"
"0","  doc <- read_html(x)"
"0","  html_text(doc, trim = TRUE)"
"0","}"
"0",""
"0","trump_transcripts_unfiltered <- read.csv(""C:/Users/12015/Desktop/popova_beland/trump_truth_fuller.csv"")"
"0",""
"0","trump_transcripts <- trump_transcripts_unfiltered %>%"
"0","  mutate(date_parsed_sec = ymd_hms(created_at),"
"0","         date_parsed = date(date_parsed_sec),"
"0","         type = ""Truth Social"") %>%"
"0","  filter(date_parsed <= as.Date(""2025-06-01"")) %>%"
"0","  mutate(trump_only = sapply(content, html_to_text),"
"0","         trump_only ="
"0","           str_remove_all(trump_only, ""https://[^\\s\""'>]+""), #OPTIONAL: removing posts with only links"
"0","         # Note: also filter out posts like ""RT:"", ""USGB"", etc?"
"0","         trump_only = na_if(trump_only, """")) %>%"
"0","    select(-created_at, -date_parsed_sec, -id, -quote_id,"
"0","         -in_reply_to_id, -in_reply_to_account_id, -content) %>%"
"0","  filter(!is.na(trump_only))"
"0",""
"0","us_transcripts <- full_join(us_transcripts_mid, trump_transcripts) %>%"
"0","  filter(date_parsed >= as.Date(""2024-11-05""))"
"2","Joining with `by = join_by(trump_only, url, type, date_parsed)`"
